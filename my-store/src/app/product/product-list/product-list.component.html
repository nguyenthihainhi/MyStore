<app-nav-header></app-nav-header>
<app-carousel-promotion></app-carousel-promotion>
<div class="prd1-cont container-fluid">
  <div class="row ">
    <div class="col col-xs-12 col-sm-12 col-md-12 col-lg-3 hidden-xs hidden-sm">
      <div class="menu mt-2">
        <div class="menu-categories d-flex justify-content-around">
          @for (ge of genders; track ge.id; let idx = $index; let lastgender = $last) {
          <a class="menu-category" [class.active]="ge.id === selectedCategory" (click)="onCategoryClick(ge.id)">{{ge.name}}</a>
          @if (!lastgender) {
          <div class="divider"></div>
            }
          }
        </div>
        <div class="line-list"></div>
        <!-- all, nam, nu -->
        @for (ge of genders; track $index) {
        <div role="tabpanel" class="tab-pane" [class.active]="ge.id === selectedCategory" [id]="ge.id">
          <ul class="type-list">
            <li *ngFor="let ca of categorys; index as idx">
              <a routerLink="/product" 
              [class.current]="isSelected(ca)" 
              (click)="onItemClick($event,ca)"
              >{{ca.name}}</a>
            </li>
          </ul>
        </div>
      }


        <div class="line-list"></div>
        <div class="menu-section" *ngFor="let section of sections">
          <h4 (click)="toggleSection(section)" [ngClass]="{
              'section-title': true,
              open: section.isOpen,
              closed: !section.isOpen
            }">
            {{ section.title }}
          </h4>
          <div *ngIf="section.isOpen" class="section-content">
            <div *ngIf="section.title === 'MÀU SẮC'">
              <ul class="nav tree">
                <li class="cb-color" *ngFor="let color of section.items">
                  <label class="cb-color-checked">
                    <span class="bg-color" [style.background-color]="color"></span>
                    <input name="cbColor" type="checkbox" [value]="color" hidden />
                  </label>
                </li>
              </ul>
            </div>
            <div *ngIf="section.title !== 'MÀU SẮC'">
              <ul class="type-list">
                <li *ngFor="let item of section.items">
                  <a routerLink="/product"
                  >{{ item }}</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="line"></div>
        </div>
      </div>
    </div>
    <div class="col col-sx-12 col-sm-12 col-md-12 col-lg-9 prd1-right">
      <div class="row prd1-right-box">
        <img class="banner_img" src="https://ananas.vn/wp-content/uploads/Desktop_Homepage_Banner.jpg" alt="" />
      </div>
      <div class="row prd1-right-items">
        <div class="col-xs-6 col-sm-6 col-md-4 col-lg-4 " *ngFor="let p of products">
          <div class="popular-items popular mb-3">
            <div class="card border-0" [routerLink]="['/product', 1]">
              <div class="thumbnail">
                <div class="cont-item">
                  <a routerLink="/">
                    <img class="inormal card-img" src="{{ p.imageUrl }}" alt="thumbnail_img" />
                    <img class="ihover card-img" src="https://ananas.vn/wp-content/uploads/Pro_AET00002_1-500x500.jpg"
                      alt="thumbnail_img" />
                  </a>
                </div>
                <div class="btn-navigate position-relative">
                  <a class="btn-prd1-buynow hidden-xs hidden-sm" routerLink="/">MUA
                    NGAY</a>
                  <a class="btn-prd1-heart addToWishList" routerLink="/" data-liked="false"
                    data-action="transferCartToWishList" data-idproduct="994533"></a>
                </div>
              </div>
              <div class="card-content">
                <p class="fw-bolder popular-name text-center pt-3">
                  {{ p.name }}
                </p>
                <p class="text-center">{{ p.description }}</p>
                <p class="fs-6 fw-bolder text-center">
                  {{ p.price }} {{ p.currency }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>